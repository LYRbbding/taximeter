# 简易出租车计价器

简易出租车计价器是一款基于EPM1270T144C5开发板，使用Verilog HDL语言设计的数字系统，其主要功能如下

### 功能介绍

#### 已完成的基本要求

1. 用SW5控制出租车空驶、载客状态，SW5=0时表示出租车在空驶状态，发光二极管LD15亮，数码管为全灭状态；

2.  SW5=1时表示出租车在载客状态，发光二极管LD15灭，并按以下要求进行计价和显示：

   a) 行驶公里：用时钟2秒钟表示出租车匀速行驶1公里，在行车3公里以内，按起步价13元收费，超过3公里部分，以每公里2元收费；

   b) 途中等待：用按键BTN3控制中途等待，等待少于等于5秒不收费，超过5秒后每等待3秒钟加收1元；

   c) 用数码管分别显示行驶里程、等候时间和计费金额。具体说明如下：用DISP7和DISP6（高→低）显示行驶里程，最大行驶里程为99公里；用DISP5～DISP3（高→低）显示等候时间，最大等候时间为900秒；用DISP2～DISP0（高→低）显示计费金额；

3. 当到达目的地后，按动BTN15出租车停止计价，数码管显示此次运营的行驶里程、等候时间和计费金额；

4. 将SW5置为0，出租车重新进入空驶状态。

#### 已完成提高要求

1. 具有夜间模式，基本单价加收20%的费用。出租汽车收费结算以元为单位，元以下四舍五入；

2. 在LCD1602液晶屏上显示里程、等候时间和付费金额等信息；

3. 出租车行驶速度可调可控；

4.  多人乘车，分段计价；

5. 自拟其他功能；

   a) 使用发声器件提供的无源蜂鸣器播放欢迎欢送音乐；

   b) 使用点阵模块显示欢迎欢送文字图案。

### 文件内容说明

代码逻辑结构及功能大致介绍如下：

─ ─ ─  taxi.v: top level design

　└ ─ ─  buzzer.v: 音频信号控制

　　└ ─ ─  sound_divide.v  音频分频器, divide.v修改版

　└ ─ ─  counter38.v: 速度LED控制

　└ ─ ─  debounce.v: 按键消抖模块

　└ ─ ─  divide.v: 时钟分频模块

　└ ─ ─  lattice.v: 点阵控制模块

　└ ─ ─  lcd_1602_driver.v: lcd驱动模块

　└ ─ ─  segment.v: 数码管显示模块